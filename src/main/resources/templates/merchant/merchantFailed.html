<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Landing Page</title>
    <style>
        .progressForm{
            display: flex;
            gap: 80px;
        }
        .reject{
            display: block;
        }
         .modal-body{
             padding: 0;
         }
        .btn-close{
            position: absolute;
            right: 0;
            padding: 1em;
        }
        .progree{
            width: 80%
        }
        @media (max-width: 768px) {
            .progree{
                width: 100%;
            }
            .progressForm{
                gap: 10px;
            }
            .reject{
                display: none;
            }
        }

    </style>
</head>
<body onload="const modal = new bootstrap.Modal(document.getElementById('failedModal')); modal.show();">
<div layout:fragment="content"  style="margin-bottom: 10px">
    <script th:src="@{/js/bundle.js}"></script>
    <div th:replace="~{fragments/cleanModal :: modal('failedModal', 'sm')}">
        <!-- Define Modal Body Content -->
        <div th:fragment="modal-body">
            <button type="button" class="btn-close btn-close-black" data-bs-dismiss="modal" aria-label="Close"></button>
            <div style="display: flex;justify-content: center;text-align: center;padding: 25px;height: 100%; width: 100%;">
                <div>
                <div style="color: #EF5350;">
                    <i class="bi bi-x-circle-fill" style="font-size: 3.2rem;"></i>
                </div>
                <h2 style="color: #062C5A;font-size: 1rem;font-weight: 500;">Welcome Back </h2>
                <h2 style="color: #6F768D;font-weight: 400;font-size: 1rem;" th:text="${merchantDetails['businessName']}">PI Ventures</h2>

                <p style="color: #6F768D;font-size: 0.75rem;line-height: 1.5;">We regret to inform you that your compliance verification is unsuccessful for some reasons. Go to your compliance page to see the reasons for the failed verification, update your compliance information accordingly and submit for re-verification. </p>
                <button data-bs-dismiss="modal" style="background-color: #0C74B1;border-radius: 6px;font-size: 0.75rem;font-weight: 500;color: white;border: none;cursor: pointer;width: 10.02rem;height: 2.25rem;">
                    Got it
                </button>
            </div>
            </div>
        </div>
    </div>

    <div class="d-flex flex-column flex-grow-1">
        <div class="content container-fluid">
            <div class="progressForm">
                <div class="responsive-box progree" >
                    <div class="progress" role="progressbar" aria-label="Success example" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
                        <div id="progress-bar" class="progress-bar" style="background-color: #34C759;"></div>
                    </div>
                    <div class="mt-2" style="color: #828FA3; font-size: 0.75rem;font-weight: 400;"><span id="increase">0</span>% complete</div>
                    <ul class="mt-4" style="list-style: none;">
                        <li class="mb-3" id="link1">
                            <div class="form-check">
                                <input class="form-check-input cb1" type="checkbox" value="" id="flexCheckCheckedDisabled" disabled>
                                <label style="font-size: 0.75rem;color: #6F768D;font-weight: 400;" class="form-check-label" for="flexCheckCheckedDisabled">
                                    Profile
                                </label>
                            </div>
                        </li>
                        <li class="mb-3">
                            <div class="form-check">
                                <input class="form-check-input cb2" type="checkbox" value="" id="flexCheckCheckedDisabled" disabled>
                                <label style="font-size: 0.75rem;color: #6F768D;font-weight: 400;" class="form-check-label" for="flexCheckCheckedDisabled">
                                    Contact
                                </label>
                            </div>
                        </li>
                        <li class="mb-3">
                            <div class="form-check">
                                <input class="form-check-input cb3" type="checkbox" value="" id="flexCheckCheckedDisabled" disabled>
                                <label style="font-size: 0.75rem;color: #6F768D;font-weight: 400;" class="form-check-label" for="flexCheckCheckedDisabled">
                                    Business Owner
                                </label>
                            </div>
                        </li>
                        <li class="mb-3">
                            <div class="form-check">
                                <input class="form-check-input cb4" type="checkbox" value="" id="flexCheckCheckedDisabled" disabled>
                                <label style="font-size: 0.75rem;color: #6F768D;font-weight: 400;" class="form-check-label" for="flexCheckCheckedDisabled">
                                    Bank Account
                                </label>
                            </div>
                        </li>
                        <li class="mb-3">
                            <div class="form-check">
                                <input class="form-check-input cb5" type="checkbox" value="" id="flexCheckCheckedDisabled" disabled>
                                <label style="font-size: 0.75rem;color: #6F768D;font-weight: 400;" class="form-check-label" for="flexCheckCheckedDisabled">
                                    Service Agreement
                                </label>
                            </div>
                        </li>
                        <li class="mb-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="" id="flexCheckCheckedDisabled" disabled>
                                <label style="font-size: 0.75rem;color: #6F768D;font-weight: 400;" class="form-check-label" for="flexCheckCheckedDisabled">
                                    Summary
                                </label>
                            </div>
                        </li>
                    </ul>
                </div>
                <form hx-post="/merchant/resubmit"
                      onsubmit="this.querySelector('button[type=submit]').disabled=true; this.querySelector('button[type=submit]').innerText='Submitting...';"
                      style="margin-top: 2%;width: 100%">
                    <div style="background-color: #EF5350;color: white;padding: 10px;border-radius: 6px;margin-bottom: 20px">
                        <div style="display: flex;gap: 11px">
                            <div style="color:white "><i class="bi bi-x-circle-fill" style="font-size: 2.3rem;"></i></div>
                            <div style="color: white;font-size:1rem;font-weight: 700">Compliance Verification Failed<br><span style="font-size: 0.75rem;font-family: 500">
                                Your compliance submission was not successful
                            </span></div>
                        </div>
                    </div>
                    <div th:replace="~{/compliance/profile :: form1(${merchantDetails},'saveCompliance')}"></div>
                    <div th:replace="~{/compliance/contact :: form2(${merchantDetails},'saveCompliance')}"></div>
                    <div th:replace="~{/compliance/businessOwner :: form3(${merchantDetails},'saveCompliance')}"></div>
                    <div th:replace="~{/compliance/bankAccount :: form4(${merchantDetails},'saveCompliance')}"></div>
                    <div th:replace="~{/compliance/serviceAgreement :: form5(${merchantDetails})}"></div>
                    <div th:replace="~{/compliance/summary :: form6('hideSummary','null','null',${merchantDetails})}"></div>
                </form>
                <div class="reject" style="margin-top: 2%;background-color: #B1250C0F;color: #A82220;border-radius: 4px;padding: 10px 15px 10px 15px;width: 70%;max-height: fit-content;font-size: 0.75rem;font-weight: 400 ">
                    <p style="font-weight: 500">Reason for failed compliance</p>
                    <span th:text="${merchantDetails['rejectReason']}"></span>
                </div>
                    <!--<div style="margin-top: 2%;background-color: #B1250C0F;color: #A82220;border-radius: 4px;padding: 10px 15px 10px 15px;width: 70%;max-height: fit-content;font-size: 0.75rem;font-weight: 400 ">-->
<!--                    <p style="font-weight: 500">Reason for failed compliance</p>-->
<!--                    <p>Please ensure that the information you provide is correct</p>-->
<!--                    <p>Please ensure that the information you provide is correct. Please ensure that the information you provide is correct. Please ensure that the information you provide is correct. Please ensure that the information you provide is correct. Please ensure that the information you provide is correct. Please ensure that the information you provide is correct. Please ensure that the information you provide is correct. </p>-->
<!--                </div>-->
            </div>
        </div>
    </div>
</div>
</body>
</html>
